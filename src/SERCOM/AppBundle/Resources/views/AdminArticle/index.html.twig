{% extends 'SERCOMAppBundle:Members:index.html.twig'%}

{% block titre %}
    <title> Administration - Articles </title>
{% endblock %}

{% block well %}
    <div class="well"> <a href="{{ path('sercom_admin') }}">Administration</a> / Articles  </div>
{% endblock %}


{% block body %}


    <div class="panel panel-primary">
        <div class="panel-heading">Articles soumis</div>
        <div class="panel-body">

            <table class="table table-hover">
                <thead>
                <tr>
                    <td> Titre</td>
                    <td> Section </td>
                    <td> Auteur </td>
                    <td> Date Soumission</td>
                    <td> Actions</td>
                </tr>
                </thead>
                <tbody>
                {% if articles_soumis is not empty %}
                    {% for article in articles_soumis %}
                        <tr>
                            <td>{{ article.title }}</td>
                            <td>{{ article.sitesection.name }}</td>
                            <td> {{  article.member.person.lastname }} {{ article.member.person.firstname }}</td>
                            <td> {{ article.publishDate|date('d-m-Y') }}</td>
                            <td>
                                <a href="{{ path('sercom_members_article_view', {'id':article.articleid}) }}" target="_blank"><i class="fa fa-eye fa-2x" title="Aperçu"></i></a>
                                <a href="{{ path('sercom_admin_article_pulier', {'id':article.articleid}) }}"><i class="fa fa-thumbs-o-up fa-2x" title="Publier" style="color: green;"></i></a>
                                <a href="{{ path('sercom_admin_article_refuser', {'id':article.articleid}) }}" ><i class="fa fa-thumbs-o-down fa-2x" title="Refuser" style="color: red;"></i></a>
                            </td>
                        </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td>Pas d'articles</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                {% endif %}

                </tbody>
            </table>
        </div>
    </div>

    <div class="panel panel-primary">
        <div class="panel-heading">Articles publiés</div>
        <div class="panel-body">

            <table class="table table-hover">
                <thead>
                <tr>
                    <td> Titre</td>
                    <td> Section </td>
                    <td> Date publication</td>
                    <td> Actions</td>
                </tr>

                </thead>
                <tbody>
                {% if articles_publie is not empty %}
                    {% for article in articles_publie %}
                        <tr>
                            <td>{{ article.title }}</td>
                            <td>{{ article.sitesection.name }}</td>
                            <td>{{ article.publishDate|date('d-m-Y') }} </td>
                            <td>
                                <a href=""></a>
                            </td>
                        </tr>
                    {% endfor %}
                {% else %}
                    <td> Pas d'articles</td>
                    <td></td><td></td><td></td><td></td><td></td>
                {% endif %}
                </tbody>
            </table>
        </div>
    </div>

    <div class="row">
        <div class="col-md-4"></div>
        <div class="col-md-3">
            <a href="{{ path('sercom_admin') }}" class="btn-block btn-warning btn">Retour</a>
        </div>
    </div>
{% endblock %}